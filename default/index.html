<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Container Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
            background-color: #f5f6f8;
            color: #1f2937;
        }
        header {
            background-color: #111827;
            color: #fff;
            padding: 20px 30px;
        }
        header h1 {
            margin: 0;
            font-size: 22px;
        }
        main {
            max-width: 1000px;
            margin: 30px auto;
            padding: 0 20px;
        }
        section {
            background-color: #fff;
            border-radius: 8px;
            padding: 22px;
            margin-bottom: 22px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }
        section h2 {
            margin-top: 0;
            font-size: 18px;
            margin-bottom: 10px;
        }
        ul, ol {
            padding-left: 20px;
        }
        li {
            margin-bottom: 6px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 14px;
        }
        .box {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 14px;
        }
        footer {
            text-align: center;
            font-size: 13px;
            color: #6b7280;
            padding: 24px 0;
        }
        code {
            background: #f3f4f6;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: monospace;
        }
    </style>
</head>
<body>

<header>
    <h1 id="page-title">Container Panel</h1>
</header>

<main>

    <section>
        <h2 id="section-intro">Congratulation! You have successfully installed container panel!</h2>
        <p id="intro-text">
            Hello User! This panel lets you create and manage containers using public Docker images. 
            You control the image, resources, and container configuration.
        </p>
    </section>

    <section>
        <h2>Panel Features</h2>
        <ul>
            <li>Create containers from public Docker images</li>
            <li>Set CPU, memory, and storage limits</li>
            <li>Configure ports, volumes, and environment variables</li>
            <li>Start, stop, or remove containers</li>
            <li>Monitor container status</li>
        </ul>
    </section>

    <section>
        <h2>Container Resources</h2>
        <div class="grid">
            <div class="box">
                <strong>CPU</strong>
                <p>Configurable CPU allocation per container</p>
            </div>
            <div class="box">
                <strong>Memory</strong>
                <p>RAM limits enforced per container</p>
            </div>
            <div class="box">
                <strong>Storage</strong>
                <p>Persistent or ephemeral volumes</p>
            </div>
            <div class="box">
                <strong>Networking</strong>
                <p>Private network and optional public ports</p>
            </div>
            <div class="box">
                <strong>Subdomain Access</strong>
                <p>
                    To access your containers via the web, a subdomain is provided automatically. 
                    SSL is configured automatically for secure access.
                </p>
            </div>
        </div>
    </section>

    <section>
        <h2>Image Deployment</h2>
        <p>
            Only public Docker images are supported. Enter the image name when creating a container.
            Ensure the image is publicly available and suitable for your needs.
        </p>
    </section>

    <section>
        <h2>Getting Started</h2>
        <ol>
            <li>Enter a public Docker image name</li>
            <li>Select CPU, memory, and storage</li>
            <li>Configure ports, volumes, and environment variables</li>
            <li>Deploy your container</li>
        </ol>
    </section>

    <section>
        <h2>Contact & Support</h2>
        <ul id="contact-info">
            <li>Email Abuse: <a href="#">loading...</a></li>
            <li>Email NOC: <a href="#">loading...</a></li>
        </ul>
    </section>

</main>

<footer>
    &copy; <span id="year"></span> <span id="footer-name"></span> - This panel provides infrastructure only. Software usage and licensing are end-user responsibility.
</footer>

<script>
    // Get full domain
    const fullDomain = window.location.hostname.replace(/^www\./, '');
    const parts = fullDomain.split('.');

    // Determine base domain for display and emails
    // If 3 or more parts: use last two (domain.tld), else use first part
    let baseDomain = '';
    if (parts.length >= 3) {
        baseDomain = parts.slice(-2).join('.');
    } else {
        baseDomain = fullDomain;
    }

    // Capitalized name for title/footer
    const baseName = baseDomain.charAt(0).toUpperCase() + baseDomain.slice(1);

    // Update page title
    const pageTitle = document.getElementById('page-title');
    if (pageTitle) {
        pageTitle.textContent = `${baseName} Container Panel`;
    }

    // Update intro text
    const introText = document.getElementById('intro-text');
    if (introText) {
        introText.innerHTML = `This sub/domain <code>${fullDomain}</code> is assigned to this container panel. Subdomains are automatically assigned to containers.`;
    }

    // Update contact emails
    const email1 = `abuse@${baseDomain}`;
    const email2 = `noc@${baseDomain}`;
    const links = document.querySelectorAll('#contact-info a');
    if (links.length >= 2) {
        links[0].href = `mailto:${email1}`;
        links[0].textContent = email1;
        links[1].href = `mailto:${email2}`;
        links[1].textContent = email2;
    }

    // Update footer
    const footerName = document.getElementById('footer-name');
    const year = document.getElementById('year');
    if (footerName) footerName.textContent = baseName;
    if (year) year.textContent = new Date().getFullYear();
</script>

</body>
</html>
